<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="expires" content="-1" />
<meta http-equiv="pragma" content="no-cache" />
<div ng-controller="userInfoController as vm">
	<form name="vm.osiUser" novalidate="">
		<fieldset ng-disabled="vm.infoView">
			<div class="row">
				<div class="col-md-5">
					<div class="row">
						<div class="col-md-4 no-padding">
							<label for="userName"
								class=" control-label no-padding pull-right"> User Name
								<font color="red">*</font>
							</label>
						</div>
						<div class="col-md-6">
							<input class="form-control" name="userName"
								ng-model="vm.userInfo.userName" placeholder='User Name'
								type="text" maxlength="50" no-special-char-space required>
							<div class="validation-error" style="color: red"
								ng-show="(vm.osiUser.userName.$dirty || vm.submitted) && vm.osiUser.userName.$error.required">
								User Name is required.</div>
							<br />
						</div>
					</div>

					<div class="row" ng-hide="true">
						<div class="col-md-4 no-padding">
							<label for="password"
								class=" control-label no-padding pull-right"> Password <font
								color="red">*</font></label>
						</div>
						<div class="col-md-6">
							<input class="form-control info" ng-model="vm.userInfo.password"
								disallow-spaces type="password" autocomplete="new-password"
								ng-minlength="8" ng-maxlength="12" maxlength="12"
								placeholder='Password' name="password" readonly>
							<div class="validation-error" style="color: red"
								ng-show="(vm.osiUser.password.$dirty || vm.submitted) && vm.osiUser.password.$error.required">
								Password is required.</div>
							<div class="validation-error" style="color: red"
								ng-show="vm.osiUser.password.$dirty && vm.osiUser.password.$error.maxlength ||
                                vm.osiUser.password.$error.minlength">
								Password must be between 8 and 12 characters.</div>
							</br>
						</div>
					</div>
					<div class="row" ng-hide="true">
						<div class="col-md-4 no-padding">
							<label for="confirmPassword"
								class=" control-label no-padding pull-right"> Confirm
								Password <font color="red">*</font>
							</label>
						</div>
						<div class="col-md-6">
							<input class="form-control" maxlength="12"
								ng-model="vm.confirmPassword" type="password"
								autocomplete="new-password" name="confirmPassword"
								placeholder='Confirm Password' readonly />
							<div class="validation-error"
								ng-show=" (vm.osiUser.confirmPassword.$dirty || vm.submitted) && (vm.userInfo.password != vm.confirmPassword)"
								style="color: red">Password mismatch</div>
							</br>
						</div>
					</div>

					<div class="row">
						<div class="col-md-4 no-padding">
							<label for="firstName"
								class=" control-label no-padding pull-right"> First Name
								<font color="red">*</font>
							</label>
						</div>
						<div class="col-md-6">
							<input class="form-control" name="firstName"
								ng-model="vm.userInfo.firstName" placeholder='First Name'
								type="text" maxlength="100" no-special-char required>
							<div class="validation-error" style="color: red"
								ng-show="(vm.osiUser.firstName.$dirty || vm.submitted) && vm.osiUser.firstName.$error.required">
								First Name is required.</div>
							</br>
						</div>
					</div>

					<div class="row">
						<div class="col-md-4 no-padding">
							<label for="lastName"
								class=" control-label no-padding pull-right"> Last Name
								<font color="red">*</font>
							</label>
						</div>
						<div class="col-md-6">
							<input class="form-control" name="lastName"
								ng-model="vm.userInfo.lastName" placeholder='Last Name'
								maxlength="100" type="text" no-special-char required>
							<div class="validation-error" style="color: red"
								ng-show="(vm.osiUser.lastName.$dirty || vm.submitted) && vm.osiUser.lastName.$error.required">
								Last Name is required.</div>
						</div>
					</div>
					<br>
					<div class="row">
						<div class="col-md-4 no-padding">
							<label for="startDate"
								class=" control-label no-padding pull-right"> Start Date
								<font color="red">*</font>
							</label>
						</div>
						<div class="col-md-6">
							<datepicker date-format="dd-MMM-yyyy"
								date-min-limit="{{vm.today}}" selector="form-control">
							<div class="input-group">
								<input my-valid-date ng-model="vm.userInfo.startDate"
									class="form-control info" placeholder='dd-mmm-yyyy'
									min="{{vm.today| date : 'dd-MMM-yyyy' }}" name="startDate"
									ng-blur="vm.checkDate()" ng-change="vm.compareDate()" required />
								<span class="input-group-addon" style="cursor: pointer">
									<i class="fa fa-lg fa-calendar"></i>
								</span>
							</div>
							</datepicker>
							<div class="validation-error" style="color: red"
								ng-show="(vm.osiUser.startDate.$dirty || vm.submitted) && ((vm.osiUser.startDate.$error.required) || (!vm.userInfo.startDate))">
								Start Date is required</div>
							<br />
						</div>
					</div>
				</div>
				<div class="col-md-5">
					<div class="row">
						<div class="col-md-4 no-padding">
							<label for="empNumber"
								class=" control-label no-padding pull-right"> Employee
								Number <font color="red">*</font>
							</label>

						</div>
						<div class="col-md-6">
							<input class="form-control" name="empNumber"
								ng-model="vm.userInfo.empNumber"
								style="text-transform: uppercase" placeholder='Employee Number'
								type="text" maxlength="25" no-special-char-space
								required>
							<div class="validation-error" style="color: red"
								ng-show="(vm.osiUser.empNumber.$dirty || vm.submitted) && vm.osiUser.empNumber.$error.required">
								Employee Number is required.</div>
							<br />
						</div>
					</div>
					<div class="row">
						<div class="col-md-4 no-padding">
							<label for="emailId" class=" control-label no-padding pull-right">
								Email Id <font color="red">*</font>
							</label>
						</div>
						<div class="col-md-6">
							<input class="form-control" ng-model="vm.userInfo.emailId"
								type="email" name="emailId" placeholder='Email Id'
								ng-pattern="/^[a-z]+[a-z0-9._]+@[a-z]+\.[a-z.]{2,5}$/"
								required maxlength="50" />
							<div class="validation-error" style="color: red"
								ng-show="(vm.osiUser.emailId.$dirty || vm.submitted) && vm.osiUser.emailId.$error.required">
								Email Id is required.</div>
							<div class="validation-error" style="color: red"
								ng-show="vm.osiUser.emailId.$dirty && vm.osiUser.emailId.$invalid">
								Invalid Email Id.</div>
							<br />
						</div>
					</div>

					<div class="row">
						<div class="col-md-4 no-padding">
							<label for="mobileNo"
								class=" control-label no-padding pull-right"> Mobile </label>
						</div>
						<!--Mob No 10 digit excluding starting 0 validation ng-pattern="/^((0091)|0?)[1-9]{1}\d{9}$/"-->
						<div class="col-md-6">
							<input class="form-control info"
								ng-model="vm.userInfo.mobileNumber"
								ng-pattern="/^[0-9]{1}[0-9]{10}$/" placeholder='Mobile Number'
								minlength="11" maxlength="11" type="text" name="mobileNo"
								only-Number  no-special-char-space /> <span
								style="color: red" ng-show="vm.osiUser.mobileNo.$error.pattern">Mobile
								number is not valid.</span>
							<!--                           <div class="validation-error" style="color:red"
	             				ng-show="(vm.osiUser.mobileNo.$dirty || vm.submitted) && vm.osiUser.mobileNo.$error.required">
	            				Mobile No is required.
        					</div>-->
							<div class="validation-error" style="color: red"
								ng-show="(vm.osiUser.mobileNo.$dirty || vm.submitted) && (vm.osiUser.mobileNo.$error.minlength || vm.osiUser.mobileNo.$error.maxlength)">
								Mobile No should be 11 Digit.</div>
							<div class="validation-error" style="color: red"
								ng-show="(vm.osiUser.mobileNo.$dirty || vm.submitted) && (vm.osiUser.mobileNo.$error.number)">
								Mobile No is not valid.</div>
							<div class="validation-error" style="color: red"
								ng-show="(vm.osiUser.mobileNo.$dirty || vm.submitted) && (vm.osiUser.mobileNo.$error.min)">
								Mobile No should be greater than 0.</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-4 no-padding">
							<label for="endDate" class=" control-label no-padding pull-right">
								End Date</label>
						</div>
						<div class="col-md-6">
							<datepicker date-format="dd-MMM-yyyy" selector="form-control"
								date-min-limit="{{vm.userInfo.startDate}}">
							<div class="input-group">
								<input my-valid-date class="form-control"
									ng-disabled="!vm.userInfo.startDate" name="endDate"
									ng-model="vm.userInfo.endDate" ng-blur="vm.checkEndDate()"
									ng-change="vm.compareDate()" placeholder='dd-mmm-yyyy' /> <span
									class="input-group-addon" style="cursor: pointer"> <i
									class="fa fa-lg fa-calendar"></i>
								</span>
							</div>
							</datepicker>
							<!-- <div class="validation-error" style="color:red"
             					ng-show="(vm.osiUser.endDate.$dirty || vm.submitted) && (( !vm.userInfo.endDate ))">
            					Please Fill End Date
        					</div> -->
							<br />
						</div>
					</div>
				</div>
				<div class="col-md-2">
					<div class="card" style="text-align: center;">
						<img id='output' class="card-img-top" alt="my Image"
							style="width: 90%" src="{{vm.image}}">
						<div class="card-block">
							<h4 class="card-title">{{inf.user.info.firstName}}
								{{inf.user.info.lastName}}</h4>
							<p class="card-text"></p>

							<input id="uploadFile" type="file" class="custom-file-input"
								style="color: transparent; width: 64%; padding: 0px; margin-left: 25px;"
								ng-file-select="vm.upload($files)" accept="image/*"
								onchange="angular.element(this).scope().upload(this.files);" /><small
								ng-show="vm.isFileError" style="color: red; font-size: 12px">Select
								Image File Only</small>
						</div>
					</div>
				</div>
				<br>
			</div>
		</fieldset>
	</form>
	<br>
	<div class="row pull-right">
		<button type="button" class="btn btn-primary"
			ng-click="vm.reset();vm.submitted=true" ng-show="vm.userUpdate">
			<span>Reset Password</span>
		</button>
		<button type="button" class="btn btn-primary"
			ng-click="vm.next();vm.submitted=true" ng-hide="vm.infoView">
			<span>Save & Next</span>
		</button>
		<button type="button" class="btn btn-primary"
			ng-click="vm.nextPage();" ng-hide="!vm.infoView">
			<span>Next</span>
		</button>
	</div>
	<br>
</div>
<script>
/* var loadFile = function(event) {

    var reader = new FileReader();
    reader.onload = function(){
      var output = document.getElementById('output');
      output.src = reader.result;
    };
    reader.readAsDataURL(event.target.files[0]);
  }; */
</script>
